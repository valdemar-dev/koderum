reminders:
    - THREAD SAFETY!!
    - SAFE THREAD
    - THREAD MUST BE SAFE FOR OPERATION MMM THREAD

todo:
    - IMPORTANT !! make set_mode() use lookups to translate glfw keys into runes
    
    - please make sure to clear input undo buffer on close file


    - add variable font weights
    - renaming a file should rename and send a didclose/didopen
    - add "show trailing spaces" config option
    - add warning for mixing tabs and spaces within a file
    - file browser needs more improvements.
      something like a list view.
      folders should be shown before files
      accuracy should be prioritized within folders
    - add procedure for fixing indents within a highlight
      eg. set to tab or space, set indent level for spaces, etc
    
think:
    - control + escape is a bad keybind for the terminal input mode switching.
    - GUI mode with every file opened, listed
    
bugs:
    - nil pointer dereference in set_tokens() when reloading a file
    // maybe fixed? - bad free in reset_completion_hits(), from set_buffer_cursor_pos-
    // maybe fixed? - nil pointer dereference in hit_ptr.detail in resolve completion hit
    - malformed LSP json panic sometimes?
    - draw_text_buffer mutex when hitting F5 to reload lsp
    - ctrl + e bad free?
        
    - annoying shit with moving around.
      cut a thing, and suddenly you're WAY in the wrong direction. something to do with centering the camera after a large action, cut, paste, x.